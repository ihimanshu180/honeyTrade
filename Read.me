🧱 Architecture Overview

                   ┌─────────────────────┐
                   │    Frontend (UI)    │
                   └─────────┬───────────┘
                             │ REST
               ┌─────────────┼─────────────┐
               ▼                           ▼
        ┌──────────────┐          ┌────────────────┐
        │ user-service │          │ market-service │ ← fetch stock prices from web
        └──────────────┘          └────────────────┘
                │                            │
                ▼                            ▼
        ┌────────────────┐          ┌─────────────────────┐
        │portfolio-service│ ←───────┤  External Stock API  │
        └────────────────┘          └─────────────────────┘
                │
                ▼
        ┌──────────────────┐
        │valuation-service │ ← Computes total portfolio value
        └──────────────────┘
🧪 Let's Build It in PHASES
We’ll now go through:

✅ Phase 2.1: market-service
 Fetch real-time stock prices via web API

 Expose APIs:

GET /price/<symbol>

GET /prices?symbols=AAPL,GOOG,TSLA

✅ Phase 2.2: portfolio-service
 Create portfolio (name, owner_id)

 Add stock to portfolio

 Remove stock from portfolio

 View all stocks in a portfolio

 APIs:

POST /portfolio

POST /portfolio/<id>/stocks

GET /portfolio/<id>
================================================================================
✅ Phase 2.3: valuation-service
 Read from portfolio-service

 Fetch prices from market-service

 Compute portfolio total value

 API:

GET /valuation/<portfolio_id>


## Configuration

The market service expects an Alpha Vantage API key via the `ALPHA_VANTAGE_API_KEY` environment variable. Create a `.env` file inside `market-service/` with:

```
ALPHA_VANTAGE_API_KEY=your_api_key_here
```

Do **not** commit this file to version control. If upgrading from earlier versions, remove the tracked `INfo` file and provide your own key using the environment variable above.

The portfolio database now uses a `stocks` column. If you previously ran the service, delete the old `portfolio.db` or migrate the `stock` column to `stocks` before starting the service.
